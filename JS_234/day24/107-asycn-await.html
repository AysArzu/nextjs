<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async - await</title>
</head>
<body>
    <h2>async - await</h2>

    <script>

        const promise1 = ()=>{
            return new Promise((resolve)=>{
                setTimeout(()=>{
                    document.querySelector("body").style.backgroundColor = "red";
                    resolve("1. Promise");
                }, 1500);
            });
        }

        const promise2 = ()=>{
            return new Promise((resolve)=>{
                setTimeout(()=>{
                    document.querySelector("body").style.backgroundColor = "blue";
                    resolve("2. Promise");
                }, 2000);
            });
        }

        const promise3 = ()=>{
            return new Promise((resolve)=>{
                setTimeout(()=>{
                    document.querySelector("body").style.backgroundColor = "yellow";
                    resolve("3. Promise");
                }, 700);
            });
        }

        const promise4 = ()=>{
            return new Promise((resolve)=>{
                setTimeout(()=>{
                    document.querySelector("body").style.backgroundColor = "green";
                    resolve("4. Promise");
                }, 1000);
            });
        }


        // Bu şekilde çağırınca süre sıralamasına göre çalışırlar.
        /*
        promise1().then(data=>console.log(data));
        promise2().then((data)=>console.log(data));
        promise3().then((data)=>console.log(data));
        promise4().then((data)=>console.log(data));
        */

        // Promise chain

        /*
        promise1()
        .then((data)=>{
            console.log(data);
            return promise2();
        })
        .then((data)=>{
            console.log(data);
            return promise3();
        })
        .then((veri)=>{
            console.log(veri);
            return promise4();
        })
        .then((x)=>{
            console.log(x);
        });
        */

        // async - await yapısının kullanımı async yazmak gerekiyor
        const myFunction = async()=>{

            let data1 = await promise1();
            console.log(data1);
            let data2 = await promise2();
            console.log(data2);
            let data3 = await promise3();
            console.log(data3);
            let data4 = await promise4();
            console.log(data4);

        }

        myFunction();
const x = setInterval(myFunction, 7000);
clearInterval(x);


    </script>
</body>
</html>